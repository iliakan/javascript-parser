Парсер для адаптированного формата Markdown, который используется на Javascript.ru.

У него есть два режима работы:
  1. Доверенный -- для статей, задач и другого основного материала. Возможны любые теги и т.п.
  2. Безопасный -- для комментариев и другого user-generated content. Большинство тегов HTML можно использовать.
  
# Вставка кода ```js

Блок кода вставляется как в github:

<pre>
```js
alert(1);
```
</pre>

Или:
<pre>
```html
&lt;!DOCTYPE HTML&gt;
&lt;title&gt;Viva la HTML5!&lt;/title&gt;
```
</pre>

Поддерживаемые языки (список может быть расширен):
  - html 
  - js 
  - css 
  - coffee 
  - php 
  - http 
  - java 
  - ruby 
  - scss 
  - sql

## Выполняемый код `//+ run` и другие настройки 

Если хочется, чтобы посетитель мог запустить код -- добавьте первую строку `//+ run`:

<pre>
```js
//+ run
alert(1);
```
</pre>

Можно использовать любой комментарий: `//+ ... `, `/*+ ... */`, `#+ ...` или `<!--+ ... -->`, 
главное чтобы он был *первой строкой* и в начале был *плюс и пробел*.

Этот комментарий не попадёт в итоговый вывод.

Есть два языка, для которых это поддерживается:
  1. `js` - в доверенном режиме через `eval`, в безопасном -- в `iframe` с другого домена.
  2. `html` - в доверенном режиме показ будет в `iframe` с того же домена, в безопасном -- с другого домена.

Прочие настройки:
  - `height=100` -- высота (в пикселях) для `iframe`, в котором будет выполняться пример. Обычно для HTML она вычисляется автоматически по содержимому.
  - `src="my.js"` -- код будет взят из файла `my.js` 
  - `autorun` -- пример будет запущен автоматически по загрузке страницы.
  - `refresh` -- каждый запуск JS-кода будет осуществлён в "чистом" окружении. 
  Этот флаг актуален только для безопасного режима, т.к. обычно `iframe` с другого домена кешируется и используется многократно.
  - `demo` - флаг актуален только для решений задач, он означает, что при нажатии на кнопку "Демо" в условии запустится этот код. 

Пример ниже использует код файла `my.html` и запускает его автоматически:
<pre>
```html
&lt;!--+ src="my.html" autorun --&gt;
```
</pre>

## Выделение в блоке кода `*!*`

Поддерживаются два выделения:

**Блочное выделение** -- несколько строк выделяются полностью. 

Обозначается строками `*!*` в начале и `*/!*` в конце:
<pre>
```js
*!*
function important() {
  alert("Важный блок");
}
*/!*
```
</pre>

Также можно выделить отдельную строку (одну), поставив в конце `*!*`:

<pre>
```js
function important() {
  alert("Важная строка");*!*
}
```
</pre>

**Инлайн-выделение** выделяет фрагмент текста, например важное слово, для этого оно заключается в `*!*...*/!*`:
<pre>
```css
*!*h1*/!* {
  background: pink *!*important*/!*;
}
```
</pre>

В примере выше выделятся `h1` и `important`.
  
## Код в строке `\`...\``

Для вставки кода в строку он оборачивается в обратные кавычки ``...`` .

Например:
<pre>
Функция `_.partial` делает то же, что и `bind`, но без привязки контекста `this`.
</pre>

Весь HTML внутри таких кавычек автоматически экранируется:
<pre>
Теги \`<script>\` и \`<b>\`
-- станет
Теги &lt;code>&amp;lt;script&amp;gt;</code> и &amp;lt;code>&amp;lt;b&amp;gt;</code>
</pre>

Обычно это удобно, но если экранирование не нужно -- можно использовать `<code>...</code>`:

<pre>
Функция &lt;code>reduce&lt;em>Right&lt;/em>&lt;/code>
</pre>

  
# Отмена форматирования

Не применяется форматирование в тегах
  
# Якорь для ссылок #hash

Якоря позволяют легко ссылаться на любой заголовок статьи.
 
Заголовок с якорем выглядит так:
```
## Header [#cool-stuff]
```

Ссылка на него:
```
Смотрите [сюда](#cool-stuff)
```

Якоря могут быть только внутри статей.

# Жирный и курсив

Как в обычном Markdown:
<pre>
**жирный**
*курсив*
</pre>

Чтобы выделение сработало, после открывающей и перед закрывающей звёздочной не должно быть пробелов. 

В таком тексте выделения не будет:
<pre>
a * b * c
</pre>

# Типографика

Автоматически заменяются:
  - `(c)` `(r)` `(tm)` `(p)` `+-` `->` `<-` на символы `©` `®` `℗` `±` `→` `←`
  - троеточие `...` на один юникодный символ-троеточие `…`
  - одиночный дефис `-` на юникодный символ-аналог `&ndash;`, двойной дефис `--` на длинное тире `&mdash;`
  - смайлы `:)` `:(` и ряд других - на картинки `<img src="файл для смайла">`
  - кавычки `"..."` - на ёлочки `«...»`  

# Неподдерживаемый Markdown

  - Списки (используйте `<ul>`, `<ol>` и `<dl>`)
  - Таблицы (используйте `<table>`)
  